"use strict";(self["webpackChunkbook"]=self["webpackChunkbook"]||[]).push([[832],{8832:function(t,e,i){i.r(e),i.d(e,{default:function(){return l}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("i",{staticClass:"el-icon-menu",on:{click:t.openMenu}}),i("h3",[t._v("《"+t._s(t.curTitle)+"》")]),i("audio",{attrs:{src:t.curUrl,controls:"",id:"player"}}),i("div",{staticClass:"list"},t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"item"},[i("el-button",{attrs:{type:t.curIndex===s?"primary":"",size:"mini"},on:{click:function(i){return t.play(e,s)}}},[t._v(t._s(s+1))])],1)})),0)])},n=[],r={name:"book",data(){return{curIndex:"",curUrl:"",curTitle:"",list:[]}},mounted(){this.getList(this.$route.query.name,this.$route.query.origin)},methods:{openMenu(){this.$bus.$emit("openDrawer")},getList(t,e){fetch(`/${e}/api/${t}.json?time=${Date.now()}`).then((t=>t.json())).then((t=>{this.list=t,this.curIndex="",this.curUrl="",this.genBookName()}))},genBookName(){this.curTitle=this.list[0].split("/").pop().split("_")[0]},play(t,e){this.curUrl=t,this.curIndex=e,setTimeout((()=>{document.querySelector("#player").play()}),2e3)}},watch:{$route:{handler:function(t,e){this.getList(this.$route.query.name,this.$route.query.origin)},deep:!0}}},u=r,o=i(1001),c=(0,o.Z)(u,s,n,!1,null,"58c6dc0a",null),l=c.exports}}]);